(()=>{const e=document.currentScript.dataset.baseUrl,t=0,n=1,r=2,i=3,o=new Map,s=new Set;function a(n,r,i){if(Array.isArray(n)){i=r,r=n;const t=document.currentScript.getAttribute("data-src")??document.currentScript.getAttribute("src");if(!t)throw new Error("Cannot define module without a name");const o=(n=t.startsWith("./")?t.slice(2):t.startsWith("/")?t.slice(1):t).indexOf("?");n=-1===o?n:n.slice(0,o),n=(n=(n=e&&n.startsWith(e)?n.slice(e.length):n).endsWith(".js")?n.slice(0,-3):n).endsWith("/index")?n.slice(0,-6):n}r??=[];const a=o.get(n);if(a&&!a._allowRedefine)throw new Error(`Module "${n}" cannot be redefined`);if("function"==typeof r){if(i)throw new Error("Unsupport define call");i=r,r=[]}const c=r.slice(2).map((e=>_(n,e))),l={_name:n,_state:t,_requirements:c,_initializer:i,_init:document.currentScript?.dataset.init===n,_replace(e){if("object"!=typeof e&&"function"!=typeof e)throw new Error("Cannot assign module.exports to a non-object");e._name=n,e._state=t,e._requirements=c,e._initializer=i,e._replace=l._replace,o.set(n,e)}};o.set(n,l);for(const e of l._requirements)s.add(e);if(n.endsWith("$preload")){if(l._requirements.length)throw new Error(`Module "${n}" cannot import other modules`);d(l)}f&&m()}function c(e,n){let r=o.get(e);if(!r){if(e.endsWith(".js")&&(e=e.slice(0,-3)),e.startsWith(".")){let t=n[n.length-1];t.includes("/")||(t+="/"),e=_(t,e)}if(r=o.get(e),!r)throw new Error(`Module "${e}" has not been declared and cannot be required`)}return r._state===t&&(r=h(e,r,n)),r}function d(e,t,...n){if(e._state)throw new Error(`Module "${e._name}" has already been processed`);try{function s(e,n,r){if(Array.isArray(e)){const r=e.map((e=>c(e,t)));return n(1===r.length?r[0]:r)}return c(e,t)}t=[...t,e._name],e.require=s;const a=e._initializer(s,e,...n);void 0===e.default&&(e.default=a??e,e.__esModule=!0),(e=o.get(e._name))._state=r,function(e){const t=e._name,n=e.default??e,r=function(e){const t=e.lastIndexOf("/");return e.slice(t+1)}(t);l.test(r)&&!(r in window)&&Object.assign(window,{[r]:n});for(const t of Object.keys(e))"default"===t||t.startsWith("_")||!l.test(t)||t in window||Object.assign(window,{[t]:e[t]})}(e)}catch(d){e._state=i,e._error=d,d.message=`[Module initialization ${e._name}] ${d.message}`,console.error(d)}}a.amd=!0;const l=/^[A-Z_$][a-zA-Z_$0-9]+$/;const u=window;u.define=a,u.getModule=c,u.initializeModule=function(e){d(c(e))},u.allowRedefine=function(e){const t=o.get(e);t&&(t._allowRedefine=!0)},u.hasModule=e=>o.has(e),document.addEventListener("DOMContentLoaded",m);let f=!1;async function m(){const e=Array.from(document.querySelectorAll("template[data-script]")).map((e=>{const t=e.dataset.script;return e.remove(),t}));for(await Promise.all(Array.from(new Set(e)).map(w));s.size;){const e=Array.from(s);await Promise.all(e.map(w));for(const t of e)s.delete(t)}for(const[e,t]of o.entries())t._init&&h(e,t);f=!0}async function w(e){if(!o.has(e)&&(await async function(e){const t=document.createElement("script");document.head.appendChild(t);const n=new Promise((e=>t.addEventListener("load",(()=>e()))));return t.src=`/script/${e}.js`,n}(e),!o.has(e)))throw new Error(`The required module '${e}' could not be asynchronously loaded.`)}function h(e,r=o.get(e),i=[]){if(!r)throw new Error(`No "${e}" module defined`);if(r._state===n)throw new Error(`Circular dependency! Dependency chain: ${[...i,e].map((e=>`"${e}"`)).join(" > ")}`);if(!r._state){r._state=n;const o=r._requirements.map((t=>h(t,void 0,[...i,e])));r._state=t,d(r,i,...o)}return o.get(e)}function _(e,t){let n=p(e);if(t.startsWith("./"))return function(...e){return e.filter((e=>e)).join("/")}(n,t.slice(2));for(;t.startsWith("../");)n=p(n),t=t.slice(3);return t}function p(e){const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}})();